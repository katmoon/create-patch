# Patch generation tool

## Description
Generates a patch for a single branch of a single repository using 'git diff'.
Generates a git and a composer version of the patch.
The tool should be run from the folder where the repository is located.

## Requirements
/bin/bash

## Installation`
* Clone this repository into your own folder
```
git clone https://github.com/katmoon/create-patch.git
```
* (Optional; for *nix systems) create symlink for converter into the bin folder
```
curl -o create-patch.sh https://raw.githubusercontent.com/katmoon/create-patch/main/create-patch.sh
ln -s `pwd`/create-patch.sh ~/bin/
chmod +x ~/bin/create-patch.sh
```

Specify the path to the patch converter tool in the .env file.
```
cp env.example .env
```

## Usage
```
> create-patch.sh -h
Usage: sh create-patch.sh [--help] [-b <branch>] [-v <version>] [-r <commit>:<commit>]
Generate patch by collecting changes starting from the latest tag and ending with the HEAD (by default).

-b <branch>             Specify the branch. Example: ABCD-12345.

-v <version>            Specify the patch version. Examples: v2, DEBUG, DEBUG_v2.

-r <commit>:<commit>    Create a patch using the changes between two arbitrary <commit>s.
                        Patch is generated by "git diff", so if <commit> on one side is omitted, it will have the same effect as using HEAD instead.
                        If this option is not specified, the patch will be generated using the changes between the latest tag and HEAD.

--help                  Shows this help message.
```
